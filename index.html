<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è½¦ç«™ä¿¡æ¯æ±‡æŠ¥åŠ©æ‰‹</title>
    <!-- å¼•å…¥æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        :root {
            --main-color: #6C4EA2; /* 10å·çº¿ç½—å…°ç´« */
            --accent-color: #F5A623; /* æ©™é»„é«˜äº® */
            --main-color-dark: #4B3570;
            --accent-color-dark: #F5A623;
            --bg-light: #F3F0FA;
        }
        body {
            background: var(--bg-color, var(--bg-light));
            transition: background 0.3s;
        }
        .app-titlebar {
            height: 180px;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            background: var(--main-color);
            color: #fff;
            padding: 0 24px;
            border-radius: 0 0 18px 18px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            margin-bottom: 24px;
        }
        .app-titlebar .logo {
            margin-right: 12px;
            box-shadow: 0 2px 8px rgba(108,78,162,0.10);
        }
        .app-titlebar .title-center {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 3.2rem;
            font-weight: 700;
            letter-spacing: 2px;
            line-height: 1;
            white-space: nowrap;
            height: 180px;
            display: flex;
            align-items: center;
        }
        .app-titlebar .window-btns {
            display: flex;
            gap: 8px;
        }
        .app-titlebar .window-btns button {
            width: 28px;
            height: 28px;
            border: none;
            border-radius: 6px;
            background: rgba(255,255,255,0.18);
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
        }
        .app-titlebar .window-btns button:hover {
            background: var(--accent-color);
            color: var(--main-color);
        }
        .theme-toggle {
            position: absolute;
            right: 80px;
            top: 10px;
            border-color: var(--accent-color);
            color: var(--accent-color);
        }
        .main-card {
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.10);
            background: var(--card-bg, #fff);
            padding: 32px 24px 24px 24px;
            margin-bottom: 32px;
            transition: background 0.3s;
            max-width: 1600px;
            width: 98vw;
            margin: 32px auto 32px auto;
            font-size: 1.25rem;
        }
        .welcome-area {
            text-align: center;
            margin-bottom: 24px;
        }
        .welcome-area .welcome-logo {
            width: 56px;
            height: 56px;
            margin-bottom: 8px;
            border: 3px solid var(--main-color);
        }
        .welcome-area h2 {
            color: var(--main-color);
        }
        .tip-box {
            background: #fff;
            color: var(--main-color);
            border: 2px solid var(--main-color);
            border-radius: 12px;
            padding: 10px 22px;
            display: inline-block;
            font-weight: bold;
            font-size: 1.18rem;
            box-shadow: 0 2px 8px rgba(108,78,162,0.08);
            letter-spacing: 2px;
        }
        .tip-box .tip-keywords {
            color: #e53e3e;
            font-weight: bold;
        }
        .report-preview {
            margin-top: 32px;
            background: #f8fafc;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            padding: 24px;
            transition: background 0.3s;
        }
        .preview-content {
            background: #fff;
            border-radius: 8px;
            padding: 16px;
            min-height: 120px;
            font-family: 'Consolas', 'Menlo', 'monospace';
            font-size: 1.05rem;
            margin-bottom: 16px;
            white-space: pre-wrap;
        }
        .form-section {
            background: var(--form-bg, var(--bg-light));
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            padding: 18px 18px 8px 18px;
            margin-bottom: 18px;
            transition: background 0.3s;
        }
        .form-label.required:after {
            content: '*';
            color: #e53e3e;
            margin-left: 2px;
        }
        .select2-container .select2-selection--single {
            height: 38px;
            border-radius: 6px;
            border: 1px solid #ced4da;
        }
        .select2-container--default .select2-selection--single .select2-selection__rendered {
            line-height: 38px;
        }
        .select2-container--default .select2-selection--single .select2-selection__arrow {
            height: 38px;
        }
        .btn-primary {
            background: var(--main-color);
            border-color: var(--main-color);
        }
        .btn-primary:hover, .btn-primary:focus {
            background: var(--accent-color);
            border-color: var(--accent-color);
            color: var(--main-color);
        }
        .btn-success {
            background: transparent; /* ç”ŸæˆæŠ¥å‘Šä½¿ç”¨æè¾¹é£æ ¼ */
            border-color: var(--main-color);
            color: var(--main-color);
        }
        .btn-success:hover, .btn-success:focus {
            background: var(--main-color); /* æ‚¬åœä½¿ç”¨å¡«å…… */
            border-color: var(--main-color);
            color: #fff;
        }
        .btn-secondary {
            background: transparent; /* å¤åˆ¶æŠ¥å‘Šä½¿ç”¨æè¾¹é£æ ¼ */
            border-color: var(--main-color);
            color: var(--main-color);
        }
        .btn-secondary:hover, .btn-secondary:focus {
            background: var(--main-color); /* æ‚¬åœä½¿ç”¨å¡«å…… */
            border-color: var(--main-color);
            color: #fff;
        }
        .btn {
            border-radius: 8px;
            transition: box-shadow 0.2s, background 0.2s, color 0.2s;
        }
        .btn:active {
            box-shadow: 0 2px 8px rgba(91,63,162,0.15);
        }
        .footer {
            text-align: center;
            color: #888;
            font-size: 0.98rem;
            margin: 32px 0 12px 0;
        }
        .footer a {
            color: var(--main-color);
        }
        /* Toastä¸»é¢˜è‰² */
        .toast.text-bg-primary {
            background: var(--main-color)!important;
            color: #fff!important;
        }
        .toast.text-bg-success {
            background: var(--accent-color)!important;
            color: var(--main-color)!important;
        }
        .toast.text-bg-danger {
            background: #e53e3e!important;
            color: #fff!important;
        }
        /* æ³¢çº¹åŠ¨ç”»ä¸»è‰² */
        .ripple {
            background: rgba(108,78,162,0.18)!important;
        }
        /* æ·±è‰²æ¨¡å¼ */
        body.dark {
            --bg-color: #1a1a2e; /* æ·±é‚ƒèƒŒæ™¯ */
            --card-bg: #2a2a4a; /* å¡ç‰‡èƒŒæ™¯ */
            --form-bg: #1a1a2e; /* è¡¨å•èƒŒæ™¯ä¸ä¸»èƒŒæ™¯ä¸€è‡´ */
            --main-color-dark: #5b3f9a; /* æ·±è‰²æ¨¡å¼ä¸‹çš„ç½—å…°ç´« */
            --accent-color-dark: #f5a623; /* æ©™é»„é«˜äº® */
            color: #e5e7eb; /* ä¸»æ–‡å­—é¢œè‰² */
        }
        body.dark .main-card,
        body.dark .form-section {
            background: var(--card-bg);
        }
        body.dark .report-preview {
            background: var(--form-bg);
        }
        body.dark .preview-content {
            background: var(--card-bg);
        }
        body.dark .tip-box {
            background: var(--card-bg);
            color: var(--accent-color-dark);
            border: 2px solid var(--accent-color-dark);
            box-shadow: 0 2px 8px rgba(245,166,35,0.2);
        }
        body.dark .footer {
            color: #aaa;
        }
        body.dark .btn-primary {
            background: var(--main-color-dark);
            border-color: var(--main-color-dark);
            color: #fff;
        }
        body.dark .btn-primary:hover, body.dark .btn-primary:focus {
            background: var(--accent-color-dark);
            border-color: var(--accent-color-dark);
            color: var(--main-color-dark);
        }
        body.dark .btn-success {
            background: transparent; /* å¤œé—´æ¨¡å¼ç”ŸæˆæŠ¥å‘Šä½¿ç”¨æè¾¹é£æ ¼ */
            border-color: var(--main-color-dark);
            color: var(--main-color-dark);
        }
        body.dark .btn-success:hover, body.dark .btn-success:focus {
            background: var(--main-color-dark); /* å¤œé—´æ¨¡å¼æ‚¬åœä½¿ç”¨å¡«å…… */
            border-color: var(--main-color-dark);
            color: #fff;
        }
        body.dark .btn-secondary {
            background: transparent; /* å¤œé—´æ¨¡å¼å¤åˆ¶æŠ¥å‘Šä½¿ç”¨æè¾¹é£æ ¼ */
            border-color: var(--main-color-dark);
            color: var(--main-color-dark);
        }
        body.dark .btn-secondary:hover, body.dark .btn-secondary:focus {
            background: var(--main-color-dark); /* å¤œé—´æ¨¡å¼æ‚¬åœä½¿ç”¨å¡«å…… */
            border-color: var(--main-color-dark);
            color: #fff;
        }
        body.dark .footer a {
            color: var(--accent-color-dark);
        }
        body.dark .ripple {
            background: rgba(245,166,35,0.25)!important; /* æ³¢çº¹é¢œè‰² */
        }
        body.dark .toast.text-bg-primary {
            background: var(--main-color-dark)!important;
            color: #fff!important;
        }
        body.dark .toast.text-bg-success {
            background: var(--accent-color-dark)!important;
            color: var(--main-color-dark)!important;
        }
        body.dark .station-label {
            color: #fff;
        }
        .container {
            width: 100vw !important;
            max-width: 100vw !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .main-card {
            width: 100%;
            max-width: 1600px;
            margin: 32px auto 32px auto;
            padding: 0 24px 40px 24px;
            font-size: 1.25rem;
            box-sizing: border-box;
        }
        .report-type-selector .btn {
            font-size: 1.35rem;
            font-weight: bold;
            padding: 1.1rem 1.5rem;
            height: 64px;
            border-radius: 24px;
            margin: 0 18px;
            box-shadow: 0 2px 8px rgba(108,78,162,0.10);
            transition: box-shadow 0.2s, transform 0.18s, background 0.2s, color 0.2s;
            letter-spacing: 2px;
            /* å¢åŠ æœ€å°å®½åº¦ï¼Œä½¿å…¶åœ¨å †å æ—¶ä¹Ÿèƒ½è¶³å¤Ÿå®½ */
            min-width: 280px;
        }
        .report-type-selector .btn:hover, .report-type-selector .btn:focus {
            box-shadow: 0 6px 18px rgba(108,78,162,0.18);
            transform: translateY(-3px) scale(1.04);
            z-index: 2;
        }
        .report-type-selector .row.g-3 {
            gap: 0;
            justify-content: center;
        }
        /* è°ƒæ•´æŒ‰é’®å®¹å™¨åœ¨å°å±å¹•ä¸‹çš„å¸ƒå±€ */
        .report-type-btns {
            flex-direction: column;
            align-items: center; /* ä½¿æŒ‰é’®åœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­å¯¹é½ */
            gap: 18px; /* å¢åŠ æŒ‰é’®ä¹‹é—´çš„å‚ç›´é—´è· */
        }
        .station-label {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }
        .report-preview .btn {
            font-size: 1.35rem;
            font-weight: bold;
            letter-spacing: 2px;
        }
        .equipment-process-row {
            display: flex;
            align-items: center;
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 6px 10px;
            margin-bottom: 8px;
            gap: 10px;
        }
        .equipment-process-row input[type="time"] {
            width: 110px;
            border: 1.5px solid #f44336;
            border-radius: 6px;
            margin-right: 6px;
        }
        .equipment-process-row input[type="text"] {
            flex: 1;
            border: 1.5px solid #f44336;
            border-radius: 6px;
        }
        .equipment-process-row .delete-process-btn {
            margin-left: 8px;
            color: #f44336;
            border: none;
            background: transparent;
            font-size: 1.3rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        .equipment-process-row .delete-process-btn:hover {
            color: #b71c1c;
        }
    </style>
</head>
<body>
    <!-- è‡ªå®šä¹‰é¡¶éƒ¨æ  -->
    <div class="app-titlebar">
        <div style="display:flex;align-items:center;">
            <img src="logo.png" class="logo" alt="logo">
        </div>
        <span class="title-center">è½¦ç«™ä¿¡æ¯æ±‡æŠ¥åŠ©æ‰‹</span>
        <button class="btn btn-outline-light theme-toggle" id="themeToggle" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
    </div>
    <div class="container">
        <div class="main-card">
            <!-- æ¬¢è¿åŒº -->
            <div class="æ¬¢è¿ä½¿ç”¨">
                <!-- æ¸…ç†ï¼šç¡®ä¿æ­¤åŒºåŸŸæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºçš„æ–‡æœ¬æˆ–å…ƒç´  -->
            </div>
            <!-- é¡µé¢å¤´éƒ¨ -->
            <header class="text-center mb-4">
                <!-- ç«™åé€‰æ‹©åŒºåŸŸ -->
                <div class="station-name-input mb-3">
                    <label for="stationName" class="form-label required station-label">ç«™å</label>
                    <select class="form-select" id="stationName" required onchange="handleStationChange()" style="width:100%">
                        <option value="">è¯·é€‰æ‹©ç«™å</option>
                        <option value="å…°èŠ±è·¯">å…°èŠ±è·¯</option>
                        <option value="å—æ¹–">å—æ¹–</option>
                        <option value="ä¸‡å¯¿è·¯">ä¸‡å¯¿è·¯</option>
                        <option value="åå ¡">åå ¡</option>
                        <option value="ä¸ƒæ˜Ÿå²—">ä¸ƒæ˜Ÿå²—</option>
                        <option value="å¤§ç¤¼å ‚">å¤§ç¤¼å ‚</option>
                        <option value="manual">æ‰‹åŠ¨è¾“å…¥</option>
                    </select>
                    <input type="text" class="form-control mt-2" id="stationNameManual" placeholder="è¯·è¾“å…¥ç«™ç‚¹åç§°" style="display:none;" onblur="handleManualBlur()">
                </div>
            </header>
            <!-- æŠ¥å‘Šç±»å‹é€‰æ‹©å™¨ -->
            <div class="report-type-selector mb-4">
                <div class="report-type-btns">
                    <div>
                        <button class="btn btn-primary py-2" onclick="selectReportType('equipment')">è®¾å¤‡æ•…éšœæ±‡æŠ¥</button>
                    </div>
                    <div>
                        <button class="btn btn-primary py-2" onclick="selectReportType('emergency')">çªå‘äº‹ä»¶æ±‡æŠ¥</button>
                    </div>
                    <div>
                        <button class="btn btn-primary py-2" onclick="selectReportType('inspection')">æ£€æŸ¥æ±‡æŠ¥</button>
                    </div>
                </div>
            </div>
            <!-- æŠ¥å‘Šè¡¨å• -->
            <form id="reportForm" class="report-form">
                <!-- è®¾å¤‡æ•…éšœè¡¨å• -->
                <div id="equipmentForm" class="report-type-form form-section" style="display: none;">
                    <div class="mb-3">
                        <label for="equipmentTime" class="form-label">å‘ç”Ÿæ—¶é—´</label>
                        <input type="datetime-local" class="form-control" id="equipmentTime" required>
                        <div class="form-text">ç‚¹å‡»å›¾æ ‡åé€‰æ‹©æ—¶é—´ç‚¹å‡»"è®¾ç½®"</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentLocation" class="form-label">å‘ç”Ÿåœ°ç‚¹</label>
                        <input type="text" class="form-control" id="equipmentLocation" required>
                        <div class="form-text">è¯·è¯¦ç»†æè¿°å‘ç”Ÿåœ°ç‚¹ï¼Œå¦‚:ç«™å…Bç«¯ã€ä¸‹è¡Œç«™å°12å·é—¨å¤„ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentName" class="form-label">æ•…éšœè®¾å¤‡</label>
                        <input type="text" class="form-control" id="equipmentName" required>
                        <div class="form-text">æè¿°æ•…éšœè®¾å¤‡åç§°åŠç¼–å·ï¼Œå¦‚:ä¸Šè¡Œ2å·ç«™å°é—¨ã€P1805é“å²”ã€FT-DLT-T3-01ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentPhenomenon" class="form-label">æ•…éšœç°è±¡</label>
                        <textarea class="form-control" id="equipmentPhenomenon" rows="3" required></textarea>
                        <div class="form-text">æ ¹æ®è®¾å¤‡æ•…éšœæƒ…å†µæè¿°æ•…éšœç°è±¡ï¼Œå¦‚:ç«™å°é—¨æ— æ³•å¼€å¯ã€é“å²”æ— æ³•è½¬æ¢ã€ç”µæ‰¶æ¢¯è‡ªè¡Œåœæ­¢ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentImpact" class="form-label">å½±å“æƒ…å†µ</label>
                        <textarea class="form-control" id="equipmentImpact" rows="3" required></textarea>
                        <div class="form-text">æè¿°æ•…éšœå¯¹è¿è¥çš„å½±å“ï¼Œå¦‚:å½±å“åˆ—è½¦è¿è¡Œã€å½±å“ä¹˜å®¢é€šè¡Œã€å½±å“è®¾å¤‡æ­£å¸¸ä½¿ç”¨ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">å¤„ç†è¿‡ç¨‹</label>
                        <div id="equipmentProcessList"></div>
                        <button type="button" class="btn btn-outline-danger mt-2" id="addProcessBtn">æ–°å¢</button>
                        <div class="form-text">æ¯ä¸€è¡Œå¡«å†™"æ—¶é—´+å†…å®¹"ï¼Œå¯å¢åˆ ã€‚ä¾‹ï¼š10:00å‘ç°æ•…éšœã€10:05æŠ¥ä¿®ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentMeasures" class="form-label">å½“å‰æªæ–½</label>
                        <textarea class="form-control" id="equipmentMeasures" rows="3" required></textarea>
                        <div class="form-text">æè¿°è½¦ç«™å½“å‰é‡‡å–çš„ä¸´æ—¶æªæ–½ï¼Œå¦‚:å®‰å…¨äººå‘˜å€¼å®ˆã€ç»„ç»‡ä¹˜å®¢ç»•è¡Œã€é€šçŸ¥ç”Ÿäº§è°ƒåº¦ã€è¡Œè°ƒç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentReporter" class="form-label">æŠ¥å‘Šäºº</label>
                        <input type="text" class="form-control" id="equipmentReporter" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentReporterId" class="form-label">æŠ¥å‘Šäººå·¥å·</label>
                        <input type="text" class="form-control" id="equipmentReporterId" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå·¥å·</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentReviewer" class="form-label">å®¡æ ¸äºº</label>
                        <input type="text" class="form-control" id="equipmentReviewer" required>
                        <div class="form-text">å¡«å†™å®¡æ ¸äººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="equipmentReviewerId" class="form-label">å®¡æ ¸äººå·¥å·</label>
                        <input type="text" class="form-control" id="equipmentReviewerId" required>
                        <div class="form-text">å¡«å†™å®¡æ ¸äººå·¥å·</div>
                    </div>
                </div>
                <!-- çªå‘äº‹ä»¶è¡¨å• -->
                <div id="emergencyForm" class="report-type-form form-section" style="display: none;">
                    <div class="mb-3">
                        <label for="emergencyTime" class="form-label">å‘ç”Ÿæ—¶é—´</label>
                        <input type="datetime-local" class="form-control" id="emergencyTime" required>
                        <div class="form-text">ç‚¹å‡»å›¾æ ‡åé€‰æ‹©æ—¶é—´ç‚¹å‡»"è®¾ç½®"</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyLocation" class="form-label">å‘ç”Ÿåœ°ç‚¹</label>
                        <input type="text" class="form-control" id="emergencyLocation" required>
                        <div class="form-text">è¯·è¯¦ç»†æè¿°å‘ç”Ÿåœ°ç‚¹ï¼Œå¦‚:ç«™å…Bç«¯ã€ä¸‹è¡Œç«™å°12å·é—¨å¤„ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyType" class="form-label">äº‹ä»¶ç±»å‹</label>
                        <input type="text" class="form-control" id="emergencyType" required>
                        <div class="form-text">è¯·æè¿°äº‹ä»¶ç±»å‹ï¼Œå¦‚:å®¢ä¼¤ã€æ°´æµ¸ã€èˆ†æƒ…ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyDescription" class="form-label">äº‹ä»¶æè¿°</label>
                        <textarea class="form-control" id="emergencyDescription" rows="3" required></textarea>
                        <div class="form-text">æè¿°äº‹ä»¶æƒ…å†µï¼Œå¦‚:ç«™å…Bç«¯å‘ç”Ÿå®¢ä¼¤ã€ç«™å°æ°´æµ¸ã€èˆ†æƒ…ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyImpact" class="form-label">å½±å“æƒ…å†µ</label>
                        <textarea class="form-control" id="emergencyImpact" rows="3" required></textarea>
                        <div class="form-text">æè¿°äº‹ä»¶å¯¹è¿è¥çš„å½±å“ï¼Œå¦‚:å½±å“åˆ—è½¦è¿è¡Œã€å½±å“ä¹˜å®¢é€šè¡Œã€å¯èƒ½é€ æˆæŠ•è¯‰ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">å¤„ç†è¿‡ç¨‹</label>
                        <div id="emergencyProcessList"></div>
                        <button type="button" class="btn btn-outline-danger mt-2" id="addEmergencyProcessBtn">æ–°å¢</button>
                        <div class="form-text">æ¯ä¸€è¡Œå¡«å†™"æ—¶é—´+å†…å®¹"ï¼Œå¯å¢åˆ ã€‚ä¾‹ï¼š10:00å‘ç°ã€10:05é€šçŸ¥ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyStatus" class="form-label">å½“å‰çŠ¶æ€</label>
                        <textarea class="form-control" id="emergencyStatus" rows="3" required></textarea>
                        <div class="form-text">æè¿°è½¦ç«™å½“å‰é‡‡å–çš„ä¸´æ—¶æªæ–½ï¼Œå¦‚:å®‰å…¨äººå‘˜å€¼å®ˆã€ç»„ç»‡ä¹˜å®¢ç»•è¡Œã€å…³åœè®¾å¤‡ç­‰ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyReporter" class="form-label">æŠ¥å‘Šäºº</label>
                        <input type="text" class="form-control" id="emergencyReporter" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyReporterId" class="form-label">æŠ¥å‘Šäººå·¥å·</label>
                        <input type="text" class="form-control" id="emergencyReporterId" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå·¥å·</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyReviewer" class="form-label">å®¡æ ¸äºº</label>
                        <input type="text" class="form-control" id="emergencyReviewer" required>
                        <div class="form-text">å¡«å†™å®¡æ ¸äººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="emergencyReviewerId" class="form-label">å®¡æ ¸äººå·¥å·</label>
                        <input type="text" class="form-control" id="emergencyReviewerId" required>
                            <div class="form-text">å¡«å†™å®¡æ ¸äººå·¥å·</div>
                    </div>
                </div>
                <!-- æ£€æŸ¥æ±‡æŠ¥è¡¨å• -->
                <div id="inspectionForm" class="report-type-form form-section" style="display: none;">
                    <div class="mb-3">
                        <label for="inspectionTime" class="form-label">æ£€æŸ¥æ—¶é—´</label>
                        <input type="datetime-local" class="form-control" id="inspectionTime" required>
                        <div class="form-text">ç‚¹å‡»å›¾æ ‡åé€‰æ‹©æ—¶é—´ç‚¹å‡»"è®¾ç½®"</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionPersonnel" class="form-label">æ£€æŸ¥äººå‘˜</label>
                        <input type="text" class="form-control" id="inspectionPersonnel" required>
                        <div class="form-text">å¡«å†™æ£€æŸ¥äººå‘˜å§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionContent" class="form-label">æ£€æŸ¥å†…å®¹</label>
                        <textarea class="form-control" id="inspectionContent" rows="5" required></textarea>
                        <div class="form-text">æè¿°æ£€æŸ¥ç§ç±»ï¼ˆé›†å›¢ã€è½¨é“åˆ†å±€ã€è½¨é“æ‰§æ³•é˜Ÿã€è¿ç®¡ä¸­å¿ƒç­‰ï¼‰åŠæ£€æŸ¥é¡¹ç›®</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionProblems" class="form-label">æ£€æŸ¥å‘ç°é—®é¢˜</label>
                        <textarea class="form-control" id="inspectionProblems" rows="5" required></textarea>
                        <div class="form-text">æè¿°è®°å½•çš„é—®é¢˜ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionMeasures" class="form-label">æ•´æ”¹æªæ–½</label>
                        <textarea class="form-control" id="inspectionMeasures" rows="3" required></textarea>
                        <div class="form-text">æè¿°è½¦ç«™é‡‡å–çš„æ•´æ”¹æªæ–½ã€‚</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionReporter" class="form-label">æŠ¥å‘Šäºº</label>
                        <input type="text" class="form-control" id="inspectionReporter" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionReporterId" class="form-label">æŠ¥å‘Šäººå·¥å·</label>
                        <input type="text" class="form-control" id="inspectionReporterId" required>
                        <div class="form-text">å¡«å†™æŠ¥å‘Šäººå·¥å·</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionReviewer" class="form-label">å®¡æ ¸äºº</label>
                        <input type="text" class="form-control" id="inspectionReviewer" required>
                        <div class="form-text">å¡«å†™å®¡æ ¸äººå§“å</div>
                    </div>
                    <div class="mb-3">
                        <label for="inspectionReviewerId" class="form-label">å®¡æ ¸äººå·¥å·</label>
                        <input type="text" class="form-control" id="inspectionReviewerId" required>
                        <div class="form-text">å¡«å†™å®¡æ ¸äººå·¥å·</div>
                    </div>
                </div>
                <!-- æ¸©é¦¨æç¤ºåŒºåŸŸ -->
                <div class="text-center mb-4">
                    <div class="tip-box">è¿…é€Ÿã€å‡†ç¡®ã€çœŸå®</div>
                </div>
            </form>
            <!-- æŠ¥å‘Šé¢„è§ˆåŒºåŸŸ -->
            <div id="reportPreview" class="report-preview" style="display: none;">
                <h3>æŠ¥å‘Šé¢„è§ˆ</h3>
                <div id="previewContent" class="preview-content"></div>
                <div class="d-flex justify-content-center mt-4">
                    <button type="button" class="btn btn-success me-2" onclick="generateReport()">ç”ŸæˆæŠ¥å‘Š</button>
                    <button type="button" class="btn btn-secondary" onclick="copyToClipboard()">å¤åˆ¶æŠ¥å‘Š</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Toastå®¹å™¨ -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
        <div id="liveToast" class="toast align-items-center text-bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body" id="toastMsg">Hello, world!</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>
    <div class="footer">
        &copy; 2025 æ±‡æŠ¥åŠ©æ‰‹é¡¹ç›®ç»„ | <a href="#" style="color:#2563eb;text-decoration:underline;" data-bs-toggle="modal" data-bs-target="#helpModal">å¸®åŠ©</a>
    </div>
    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="helpModalLabel">æ±‡æŠ¥åŠ©æ‰‹ ä½¿ç”¨æŒ‡å—</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h4>é¡¹ç›®ç®€ä»‹</h4>
            <p>"è½¦ç«™ä¿¡æ¯æ±‡æŠ¥åŠ©æ‰‹"æ˜¯ä¸€æ¬¾é¢å‘åœ°é“/è½¦ç«™å·¥ä½œäººå‘˜çš„ç½‘é¡µç«¯ä¿¡æ¯æ±‡æŠ¥å·¥å…·ï¼Œæ”¯æŒè®¾å¤‡æ•…éšœã€çªå‘äº‹ä»¶ã€æ£€æŸ¥æ±‡æŠ¥ç­‰å¤šç§æ ‡å‡†åŒ–æŠ¥å‘Šçš„å¿«é€Ÿç”Ÿæˆï¼Œæå‡å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘äººå·¥ä¹¦å†™é”™è¯¯ã€‚</p>

            <h4>ä¸»è¦åŠŸèƒ½</h4>
            <ul>
              <li>æ”¯æŒ <b>è®¾å¤‡æ•…éšœæ±‡æŠ¥</b>ã€<b>çªå‘äº‹ä»¶æ±‡æŠ¥</b>ã€<b>æ£€æŸ¥æ±‡æŠ¥</b> ä¸‰ç§ç±»å‹ä¸€é”®åˆ‡æ¢</li>
              <li>"å¤„ç†è¿‡ç¨‹"æ”¯æŒå¤šè¡ŒåŠ¨æ€å¡«å†™ï¼ˆæ—¶é—´+å†…å®¹ï¼‰ï¼Œå¯éšæ—¶å¢åˆ </li>
              <li>è‡ªåŠ¨ç”Ÿæˆè§„èŒƒæ ¼å¼çš„æ±‡æŠ¥æ–‡æœ¬</li>
              <li>ä¸€é”®å¤åˆ¶æŠ¥å‘Šå†…å®¹ï¼Œæ–¹ä¾¿ç²˜è´´åˆ°å…¶ä»–ç³»ç»Ÿ</li>
              <li>ä¸»é¢˜åˆ‡æ¢ï¼ˆæ˜/æš—è‰²ï¼‰</li>
              <li>ç«™åå¯ä¸‹æ‹‰é€‰æ‹©æˆ–æ‰‹åŠ¨è¾“å…¥</li>
            </ul>

            <h4>ä½¿ç”¨æ–¹æ³•</h4>
            <ol>
              <li>æ‰“å¼€ç½‘é¡µï¼Œé€‰æ‹©æˆ–è¾“å…¥ç«™å</li>
              <li>é€‰æ‹©æ±‡æŠ¥ç±»å‹ï¼ˆè®¾å¤‡æ•…éšœ/çªå‘äº‹ä»¶/æ£€æŸ¥ï¼‰</li>
              <li>æŒ‰æç¤ºå¡«å†™è¡¨å•å†…å®¹ï¼Œ<b>å¤„ç†è¿‡ç¨‹å¯åŠ¨æ€å¢åˆ è¡Œ</b>ï¼Œæ¯è¡Œå¡«å†™"æ—¶é—´+å†…å®¹"</li>
              <li>å¡«å†™å®Œæ¯•åï¼Œç‚¹å‡»"ç”ŸæˆæŠ¥å‘Š"æŒ‰é’®ï¼Œé¢„è§ˆæŠ¥å‘Š</li>
              <li>æ£€æŸ¥æ— è¯¯åç‚¹å‡»"å¤åˆ¶æŠ¥å‘Š"æŒ‰é’®ï¼Œå³å¯å°†æŠ¥å‘Šå†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿</li>
              <li>ç²˜è´´åˆ°ä½ çš„é€šè®¯å·¥å…·æˆ–å…¶ä»–ç³»ç»Ÿå³å¯</li>
            </ol>

            <h4>æŠ€æœ¯è¯´æ˜</h4>
            <ul>
                <li>å‰ç«¯æŠ€æœ¯ï¼šHTML5ã€CSS3ã€JavaScriptï¼ˆåŸç”Ÿï¼‰ã€Bootstrap 5ã€jQueryã€Select2</li>
                <li>å…¼å®¹ä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Edgeã€Firefoxç­‰ï¼‰</li>
                <li>æ— éœ€å®‰è£…ï¼Œç›´æ¥ç½‘é¡µè®¿é—®</li>
            </ul>

            <h4>äºŒæ¬¡å¼€å‘å»ºè®®</h4>
            <ul>
                <li>å¯æ‰©å±•æ›´å¤šæ±‡æŠ¥ç±»å‹</li>
                <li>å¯å¯¹æ¥åç«¯APIå®ç°æ•°æ®å­˜å‚¨</li>
                <li>å¯å¢åŠ å¯¼å‡ºWordã€PDFç­‰åŠŸèƒ½</li>
            </ul>

            <h4 class="mt-4">è”ç³»ä¸æŠ€æœ¯æ”¯æŒ</h4>
            <p>å¦‚åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·è”ç³»è½¯ä»¶ä½œè€…é‚¹å»ºæ˜ï¼šç”µè¯65975765ã€13527322993ï¼ˆå¾®ä¿¡åŒå·ï¼‰ã€‚</p>
            </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å…³é—­</button>
          </div>
        </div>
      </div>
    </div>
    <!-- å¼•å…¥JavaScriptæ–‡ä»¶ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="script.js"></script>
    <script>
        // ä¸»é¢˜åˆ‡æ¢
        const themeBtn = document.getElementById('themeToggle');
        themeBtn.onclick = function() {
            document.body.classList.toggle('dark');
            if(document.body.classList.contains('dark')){
                themeBtn.innerText = 'â˜€ï¸';
            }else{
                themeBtn.innerText = 'ğŸŒ™';
            }
        };
        // select2 æ±‰åŒ–é…ç½®
        $.fn.select2.amd.define('select2/i18n/zh-CN',[],function(){
            return {
                errorLoading:function(){return"æ— æ³•è½½å…¥ç»“æœã€‚";},
                inputTooLong:function(e){var t=e.input.length-e.maximum,n="è¯·åˆ é™¤"+t+"ä¸ªå­—ç¬¦";return n},
                inputTooShort:function(e){var t=e.minimum-e.input.length,n="è¯·å†è¾“å…¥è‡³å°‘"+t+"ä¸ªå­—ç¬¦";return n},
                loadingMore:function(){return"è½½å…¥æ›´å¤šç»“æœâ€¦";},
                maximumSelected:function(e){var t="æœ€å¤šåªèƒ½é€‰æ‹©"+e.maximum+"é¡¹";return t},
                noResults:function(){return"æœªæ‰¾åˆ°ç»“æœ";},
                searching:function(){return"æœç´¢ä¸­â€¦";},
                removeAllItems:function(){return"åˆ é™¤æ‰€æœ‰é¡¹ç›®";}
            }
        });
        // ç«™åä¸‹æ‹‰æœç´¢
        $(function(){
            $('#stationName').select2({
                width: '100%',
                placeholder: 'è¯·é€‰æ‹©ç«™å',
                allowClear: true,
                language: 'zh-CN'
            });
        });
    </script>
</body>
</html> 